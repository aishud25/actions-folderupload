name: Find XML Files in Repository

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  find-xml-files:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3


      - name: Unzip all .zip files with logging
        run: |
          echo "🔍 Searching for .zip files to unzip..."
          find . -type f -iname "*.zip" | while read zipfile; do
            echo "📂 Attempting to unzip: $zipfile"
            unzip -o "$zipfile" -d "$(dirname "$zipfile")" || echo "❌ Failed to unzip: $zipfile"
          done


      - name: Find all .xml files
        run: |
          echo "📄 Listing all .xml files in the repository:"
          find . -type f -name "*.xml"
